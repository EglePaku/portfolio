<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper/swiper-bundle.min.css"
    />

    <!-- Animate CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <!-- Tilt.js CSS -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.css"
    />

    <!-- Core CSS -->
    <link rel="stylesheet" href="scss/style.css" />

    <style>
      /* Additional styling for the scroll-to button */
      #scrollToSlideThree {
        position: fixed;
        top: 10px;
        right: 10px;
        z-index: 1000; /* Ensure it's above other elements */
      }
    </style>
  </head>
  <body>
    <!-- /////////// Menu ///////////// -->
    <div id="menu" class="">
      <!-- Bento One -->
      <div class="bento one wow animate__animated animate__flipInY">
        <div class="bentoInner">
          <a href="#">
            <img src="assets/icon-tiktok.svg" alt="" />
          </a>
          <a href="#">
            <img src="assets/icon-instagram.svg" alt="" />
          </a>
          <a href="#">
            <img src="assets/icon-facebook.svg" alt="" />
          </a>
        </div>
      </div>
    </div>
    <div id="menuButton">Toggle Menu Position</div>

    <!-- Scroll-to button -->
    <button id="scrollToSlideThree">Scroll to Slide Three</button>

    <!-- /////////// Swiper ////////// -->
    <div class="swiper mySwiper">
      <div class="swiper-wrapper">
        <!-- Slide -->
        <div class="swiper-slide">
          <div class="swiperSlideWrap heroSlide swiper-zoom-container">
            <!-- Bento One -->
            <div
              class="bento one hide-mobile wow animate__animated animate__flipInY"
            >
              <div class="bentoInner">
                <a href="#">
                  <img src="assets/icon-tiktok.svg" alt="" />
                </a>
                <a href="#">
                  <img src="assets/icon-instagram.svg" alt="" />
                </a>
                <a href="#">
                  <img src="assets/icon-facebook.svg" alt="" />
                </a>
              </div>
            </div>

            <!-- Bento Two -->
            <div class="bento two">
              <div class="bentoInner">
                <h1>Front-End Maestro of user happiness</h1>
                <p>Check out my Latest and Greatests Work</p>
              </div>
            </div>

            <div
              class="bento three wow animate__animated animate__slideInUp"
              data-tilt
              data-tilt-max="10"
            >
              <div class="bentoInner">Bento Three</div>
            </div>
            <div
              class="bento four wow animate__animated animate__slideInUp animate__delay-1s"
              data-tilt
              data-tilt-max="10"
            >
              <div class="bentoInner">Bento Four</div>
            </div>
          </div>
        </div>
        <!-- slide -->
        <div class="swiper-slide" id="slideThree">
          <div class="swiperSlideWrap typeTwo">
            <div class="bento">
              <div class="bentoInner">Slide 2</div>
            </div>
          </div>
        </div>
        <!-- Slide -->
        <div class="swiper-slide wow animate__animated hidden animate__flipInX">
          <div class="swiperSlideWrap typeTwo">
            <div class="bento slideThree">
              <div class="bentoInner">Slide 3</div>
            </div>
          </div>
        </div>
        <!-- Slide -->
        <div class="swiper-slide wow animate__animated hidden animate__flipInX">
          <div class="swiperSlideWrap typeTwo">
            <div class="bento slideThree">
              <div class="bentoInner">Slide 4</div>
            </div>
          </div>
        </div>
        <!-- Slide -->
        <div class="swiper-slide wow animate__animated hidden animate__flipInX">
          <div class="swiperSlideWrap typeTwo">
            <div class="bento slideThree">
              <div class="bentoInner">Slide 5</div>
            </div>
          </div>
        </div>
      </div>
      <!-- End Swiper Wrapper -->
      <!-- <div class="swiper-pagination"></div> -->
    </div>

    <!-- ////////// Scipts ////////// -->

    <!-- Wow JS -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/wow/1.1.2/wow.min.js"
      integrity="sha512-Eak/29OTpb36LLo2r47IpVzPBLXnAMPAVypbSZiZ4Qkf8p/7S/XRG5xp7OKWPPYfJT6metI+IORkR5G8F900+g=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Swiper JS -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- Tilt.js JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.0/vanilla-tilt.min.js"></script>

    <script>
      // Initialize Wow.js
      new WOW().init();

      // Initialize Swiper
      var swiper = new Swiper(".mySwiper", {
        slidesPerView: "auto",
        freeMode: true,
        // centeredSlides: true,
        mousewheel: {
          // forceToAxis: true,
          // Ensure scrolling is only horizontal
          sensitivity: 1, // Adjust sensitivity as needed
        },
        //   pagination: {
        //     el: ".swiper-pagination",
        //     clickable: true,
        //   },
        zoom: {
          maxRatio: 5,
        },
        // Event listener for slide change
        on: {
          slideChange: function () {
            //   var slideIndex = swiper.realIndex;
            var slide = swiper.slides[slideIndex];
            var slideWidthWithMargins =
              slide.offsetWidth + 0.4 * window.innerWidth;
            var slideCenter = slide.offsetLeft + slideWidthWithMargins * 4;
            swiper.setTranslate(-slideCenter);
          },
        },
      });

      // Button click event handler to toggle menu position
      var menuButton = document.getElementById("menuButton");
      menuButton.addEventListener("click", function () {
        var menu = document.getElementById("menu");
        // Toggle the menu position
        if (menu.style.left === "-100px") {
          menu.style.left = "0";
        } else {
          menu.style.left = "-100px";
        }
      });

      document
        .getElementById("scrollToSlideThree")
        .addEventListener("click", function () {
          var swiper = new Swiper(".mySwiper"); // Initialize Swiper

          // Get the desired slide element
          var slideThree = document.getElementById("slideThree");

          // Get the index of the desired slide
          var slideIndex = swiper.slides.indexOf(slideThree);

          // Get the position of the desired slide
          var slideOffset = slideThree.offsetLeft;

          // Calculate the offset for scrolling 15vw to the right
          var scrollToOffset = slideOffset - 0.1 * window.innerWidth;

          // Scroll to the desired position with animation
          swiper.slideTo(slideIndex, 500, false); // Adjust the duration as needed for smoothness
          swiper.setTranslate(-scrollToOffset); // Set the translate value to move the slide to the desired position
        });

      // -----------------------

      // Variable to track if the user has scrolled back to the very beginning
      var isAtBeginning = true;

      // Toggle menu visibility and position on mousewheel
      document.addEventListener("wheel", function (event) {
        if (window.innerWidth > 1200) {
          var currentScrollLeft = event.deltaY > 0 ? 0 : -100; // Adjust the value as needed
          var menu = document.getElementById("menu");
          menu.style.left = currentScrollLeft + "px";

          // Check if the user has scrolled back to the very beginning (heroSlide)
          if (swiper.translate <= -(window.innerWidth * 0.7)) {
            // Adjusted condition to start 70vw before the actual beginning
            isAtBeginning = true;
          } else {
            isAtBeginning = false;
          }

          // Show menu if at the beginning or if scrolled past the beginning
          if (isAtBeginning) {
            menu.style.left = "0";
          } else {
            menu.style.left = "-100px";
          }
        }
      });

      // Adjust menu position on window resize
      window.addEventListener("resize", function () {
        var menu = document.getElementById("menu");
        if (window.innerWidth <= 1200 && menu.offsetLeft === 0) {
          menu.style.left = "-100px";
        }
      });
    </script>
  </body>
</html>
